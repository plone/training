---
myst:
  html_meta:
    "description": "Create a project for Plone deployment with Ansible and Docker"
    "property=og:description": "Create a project for Plone deployment with Ansible and Docker"
    "property=og:title": "Create a project for Plone deployment with Ansible and Docker"
    "keywords": "Plone, Deployment, Ansible, Docker, Project Creation, GitHub"
---

# Create a new Project

As highlighted in the {doc}`intro`'s {ref}`deployment-training-choices`, GitHub is essential for building Docker images automatically in this training.
The steps can be adapted for other providers like GitLab.

## Generating the Codebase

```{note}
This training session (as of October 2025) will use a still experimental branch of `cookieplone-templates`.
```

Execute `cookieplone` to generate a Plone project skeleton with the command below.

```shell
COOKIEPLONE_REPOSITORY_TAG=project-profiles uvx cookieplone project
```

Answer the prompts as they appear. You can either accept the default values or enter your own.

```{warning}
For participants in the **Plone Conference 2025 Training sessions in Jyväskylä Finland**, please use at least the following settings:

-   {guilabel}`Project Title`: **Plone Conference Training**
-   {guilabel}`Project Slug`: **ploneconf2025**
-   {guilabel}`Project URL`: **ploneconf2025-\<your-github-username\>.tangrama.com.br**
-   {guilabel}`Should we use prerelease versions?`: **Y(es)**
-   {guilabel}`Volto Version`: **19.0.0-alpha.6**
-   {guilabel}`Python Package Name`: **ploneconf2025.core**
-   {guilabel}`GitHub Username or Organization`: **\<your-github-username\>**
-   {guilabel}`URL to the repository`: **https:\/\/github.com\/<your-github-username\>/ploneconf2025**
-   {guilabel}`Container Registry`: **1 - GitHub Container Registry**
-   {guilabel}`Which persistent storage `: **1 - RelStorage with PostgreSQL**
-   {guilabel}`Should we setup a caching server`: **Y(es)**
-   {guilabel}`Add Ansible playbooks?`: **Y(es)**
-   {guilabel}`Add GitHub Action to Deploy this project?`: **Y(es)**
```

An example interaction with the `Cookieplone` wizard is shown below:

```{code-block} console
:emphasize-lines: 1,3,4,9,10,13,22,25,30,35,39,43,47
  [1/20] Project Title (Project Title): Plone Conference Training
  [2/20] Project Description (A new project using Plone 6.):
  [3/20] Project Slug (Used for repository id) (plone-conference-training): ploneconf2025
  [4/20] Project URL (without protocol) (ploneconf2025.example.com): ploneconf2025-<your-github-username\>.tangrama.com.br
  [5/20] Author (Plone):
  [6/20] Author E-mail (collective@plone.org):
  [7/20] Should we use prerelease versions? (No):
  [8/20] Plone Version (6.1.3):
  [9/20] Volto Version (18.28.2): 19.0.0-alpha.6
  [10/20] Python Package Name (ploneconf2025): ploneconf2025.core
  [11/20] Volto Addon Name (volto-ploneconf2025-core):
  [12/20] Language
    1 - English
    2 - Deutsch
    3 - Español
    4 - Português (Brasil)
    5 - Nederlands
    6 - Suomi
    7 - Italiano
    8 - Svenska
    Choose from [1/2/3/4/5/6/7/8] (1): 1
  [13/20] GitHub or GitLab username or organization slug from URL (collective): <your-github-username>
  [14/20] repository_url (https://github.com/<your-github-username>/ploneconf2025):
  [15/20] Container Registry
    1 - GitHub Container Registry
    2 - Docker Hub
    3 - GitLab
    Choose from [1/2/3] (1):
  [16/20] Which persistent storage to use in the deployment stack?
    1 - RelStorage with PostgreSQL (recommended)
    2 - ZEO with FileStorage
    3 - Local FileStorage, implies a single backend
    Choose from [1/2/3] (1):
  [17/20] Should we setup a caching server?
    1 - Yes
    2 - No
    Choose from [1/2] (1):
  [18/20] Add Ansible playbooks?
    1 - Yes
    2 - No
    Choose from [1/2] (1):
  [19/20] Add GitHub Action to Deploy this project?
    1 - Yes
    2 - No
    Choose from [1/2] (1):
  [20/20] Would you like to add a documentation scaffold to your project?
    1 - Yes
    2 - No
    Choose from [1/2] (1):
```

Navigate to your project directory:

```shell
cd ploneconf2025
```

### Understanding the Codebase

- {file}`/.github/workflows`: Contains GitHub Actions workflows for code testing and container image release.
- {file}`/backend`: Holds the backend (API) solution with Python codebase located in {file}`src/plone_conference`.
- {file}`/frontend`: Contains the frontend (Volto) solution generated by `@plone/generator-volto`.
- {file}`/devops`: Stores Ansible and Docker Stacks.
- {file}`/Makefile`: Defines tasks for codebase management.

We employ [make](https://www.gnu.org/software/make/) for its reliability, widespread availability, and maturity. Future plans include enhancing make's dependency management and capabilities.

View all available commands and descriptions with:

```shell
make help
```

## Installing the Codebase and Dependencies

Install both the Plone backend and frontend with:

```shell
make install
```

This process will take a few minutes. Once completed, a success message will appear.

### Code Formatting and i18n

Ensure all tests pass on GitHub Actions after pushing the repository by running:

```shell
make check
```

Also update all the translation files by running:

```shell
make i18n
```

## Create a Repository on GitHub

```{warning}
You must either have a public repository or a [GitHub Team plan](https://github.com/pricing#compare-features) or a [GitHub Pro plan](https://docs.github.com/en/get-started/learning-about-github/githubs-plans) for a private repository.
Otherwise you will not see the {guilabel}`Environment` option in {guilabel}`Settings`, which is required for setting up the secrets and variables for the GitHub Actions.`
```

### 1. Login to GitHub

Visit [GitHub](https://github.com) and log in.

### 2. Create a New Repository

Click the '+' icon in the upper right corner, select 'New repository', and fill in the details:

-   {guilabel}`Repository name`: `ploneconf2025`
-   {guilabel}`Description`: `Plone Conference 2025 Training`
-   {guilabel}`Visibility`: `Public`

Click 'Create repository'.

## Initialize and Push to the Git Repository

### 1. Initialize your project

Cookieplone already initializes a Git repository for you, just make sure you did run `make check` and `make i18n`.

### 2. Add Files

stages changes for commit, meaning it tracks the new files (in this case, all files in the directory with `.`). Staging lets you select which changes you want to commit.

```shell
git add .
```

### 3. Initial Commit

Saves the staged changes along with a brief log message describing the changes.
Replace "`Initial commit`" with a descriptive message if needed. It's the first commit,
so we typically label it as the "Initial commit."

```shell
git commit -m "Initial commit"
```

### 4. Link Local Repository to Remote Repository

Connect your local repository to the remote server. First replace `<your-github-username>` with your actual GitHub username.
`origin` is the default name given to the remote repository, and we also set the default branch to be `main`.

```shell
git remote add origin git@github.com:<your-github-username>/ploneconf2025.git
git branch -M main
```

### 5. Push to GitHub

Push your commits to the remote repository hosted on GitHub. This command will trigger the GitHub Actions that test the codebase and
generate Docker images for the Backend and for the Frontend.

```shell
git push -u origin main
```
